[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Introducción al Análisis de Datos con R",
    "section": "",
    "text": "Bienvenidos!\n¡Bienvenidos al curos de Introducción al Análisis de Datos con R!"
  },
  {
    "objectID": "index.html#objetivos-del-curso",
    "href": "index.html#objetivos-del-curso",
    "title": "Introducción al Análisis de Datos con R",
    "section": "Objetivos del curso",
    "text": "Objetivos del curso\n\nReconocer al lenguaje R, y su entorno de desarrollo RStudio, como herramienta para el procesamiento y análisis de datos.\nIdentificar y explicar los tipos y estructuras de datos representados en R.\nIdentificar y emplear funciones y librerías útiles para el procesamiento, visualización y análisis de datos en R.\nAplicar técnicas estadísticas básicas para analizar datos en R.\nCrear visualizaciones efectivas para comunicar resultados.\nAplicar los principios de reproducibilidad para procesar y analizar datos y comunicar resultados"
  },
  {
    "objectID": "index.html#contenidos",
    "href": "index.html#contenidos",
    "title": "Introducción al Análisis de Datos con R",
    "section": "Contenidos",
    "text": "Contenidos\n\nUnidad 1: ¿Qué es R y RStudio? Instalación de R y RStudio. Características RStudio: menús, paneles, etc. Sintaxis de R, convenciones y símbolos de R. Sistema de librerías: instalación y carga. Sistema de ayuda. Tipos de datos: numérico, caracter, lógico. Funciones. Estructuras de datos: vectores, listas, hoja de datos (data frame). El flujo de trabajo en un proyecto de análisis de datos: proyectos, scripts y notebooks. Análisis reproducible.\nUnidad 2: Manipulación de datos con R. Importación y exportación de datos. Librería tidyverse. Gramática de manipulación de datos. Limpieza, normalización, combinación y resumen de datos numéricos y categóricos.\nUnidad 3: Visualizaciones, gráficos. Nociones generales sobre tipos de gráficos y sus usos. Introducción a ggplot2. La gramática de gráficos: estéticas, geometrías, escalas, temas, etc. Gráficos condicionales y multi-paneles.\nUnidad 4: Programación literaria. Generación de informes o reportes con Quarto/RMarkdown.\n\nSin más preámbulos… comencemos!"
  },
  {
    "objectID": "00_introduction.html#la-necesidad-de-analizar-datos",
    "href": "00_introduction.html#la-necesidad-de-analizar-datos",
    "title": "1  Introducción",
    "section": "1.1 La necesidad de analizar datos",
    "text": "1.1 La necesidad de analizar datos\nHoy en día los datos abundan y están en todos lados. Esto desafía nuestra capacidad para analizarlos y extraer significado de los mismos para tomar decisiones.\nLa ciencia de datos (data science) es una nueva disciplina que emerge de la combinación de disciplinas existentes (diagrama) y permite convertir datos sin procesar en entendimiento, comprensión y conocimiento.\n\n\n\n\n\nDiagrama de Venn de la Ciencia de Datos según Conway\n\n\n\n\nPara poder analizar los datos de manera efectiva, es necesario tener conocimientos de disciplinas como ciencias de la computación (programación y más), matemática y estadística. Pero también tenemos que tener conocimientos para lograr el entendimiento del problema en estudio. La combinación de estas áreas nos lleva al concepto de Ciencia de Datos."
  },
  {
    "objectID": "00_introduction.html#cómo-es-el-flujo-de-analisis-de-datos",
    "href": "00_introduction.html#cómo-es-el-flujo-de-analisis-de-datos",
    "title": "1  Introducción",
    "section": "1.2 ¿Cómo es el flujo de analisis de datos?",
    "text": "1.2 ¿Cómo es el flujo de analisis de datos?\nSi bien el análisis de datos es un proceso no lineal que varía en cada situación, existe consenso en cuanto a las principales actividades que se deben desarrollar. El siguiente gráfico resume el flujo de trabajo o workflow.\n\n\n\n\n\nDiagrama de Venn de la Ciencia de Datos según Conway\n\n\n\n\nTodo análisis comienza con importar datos a la herramienta que estemos utilizando, R en este caso. Los datos pueden estar almacenados de diferentes formas, como archivos, dentro de una base de datos o una API ( application programming interface ). En el curso veremos distintas formas de importar datos dentro de R en un formato compatible para su análisis.\nSalvo excepciones, una vez importados los datos, hay que ordenarlos de alguna forma que permita realizar el análisis que queremos. En la mayoría de los casos necesitaremos que los datos estén almacenados de manera rectangular tal que cada columna represente una variable o atributo de los datos y cada fila una o más observaciones o sujetos (formato apaisado).\n\n\n\n\n\nA veces cuando algunas columnas representan valores de una misma variable hay que modificar este formato y pivotar a un formato longitudinal.\nCon los datos ordenados podemos concentrarnos en comprender su estructura y empezar a jugar con ellos. Esta etapa no es para nada lineal y generalmente implica un proceso iterativo donde los datos se visualizan, se transforman y se modelan.\nLa transformación de los datos implica crear subconjuntos o combinar con otros datos, alterar las variables existentes (e.g. cambiar unidades) o generar nuevos atributos combinando información de otros, resumir los datos agrupando observaciones, etc. El manejo de datos de datos ( data wrangling ) es la combinacion de técnicas de ordenamiento y transformación.\nLa visualización es el arte de convertir los datos de forma tabular en gráficos o diagramas donde los disintos atributos de los datos se relacionan a características gráficas tales como ejes, colores, formas, etc. Una buena visualización permitirá revelar patrones inesperados, confirmar alguanas peguntas o sugerir nuevas. Es muy util para comunicar.\nEl modelado es una forma de cuantificar lo podemos ver en una visualización. Al igual que las visualizaciones, los modelos son abstracciones de los datos y nos permiten resumir la variacion quedandonos con la generalidad. Los modelos son ultiles para contestar preguntas sobre los datos. Lo clave es hacer la pregunta correcta! Por otro lado los modelos son tan buenos como los datos de entrada y los supuestos utilizados.\nEl último paso de un proyecto de ciencia de datos es la comunicación. Esta etapa resume todo nuestro trabajo y determina como podemos transmitir nuestras conclusiones y descubrimientos a otros que no participaron del análisis.\nFinalmente, todas y cada una de las etapas de este proceso se desarrollan con la ayuda de la programación. No es necesario ser un hacker, hay que saber pensar como un programador y saber programar ayuda a automatizar tareas."
  },
  {
    "objectID": "00_introduction.html#que-es-un-análisis-reproducible",
    "href": "00_introduction.html#que-es-un-análisis-reproducible",
    "title": "1  Introducción",
    "section": "1.3 ¿Que es un análisis reproducible?",
    "text": "1.3 ¿Que es un análisis reproducible?\nEn las Ciencias Experimentales, poder replicar los experimentos es un componente muy importante del método científico ya que le da validez a los descubrimientos. Es por ello que en los trabajos científicos, una sección importante es la de Materiales y Métodos donde se describen los pasos que se deben dar para poder replicar de los resultados del estudio. Estos pasos incluyen las instrucciones para replicar el experimento físico y de como reproducir el análisis de los datos que llevó a las conclusiones.\nAsí la replicabilidad implica que, siguiendo los materiales y métodos un experimento independiente puede llegar a los mismos resultados con datos distintos. En cambio la reproducibilidad significa que con la misma persona u otra persona con los mismos datos llegue a los mismos resultados, es decir, que pueda reproducir el análisis.\nLa Ciencia de Datos la reproducibilidad computacional es clave ya que en el procesamiento de datos se toman una serie de decisiones que afectan el resultado. ¿Qué significa esto? Dada una serie de datos de entrada, el flujo de trabajo que se aplica para importar, ordenar, transformar, visualizar y modelar los datos, es decir, convertirlos en información, debe estar correctamente documentado para que cualquier persona pueda entender la lógica y eventualemente reproducir los mismos resultados.\nR, como cualquier lenguaje de programación, es una herramienta ideal para aplicar el concepto de reproducibilidad ya que mediante en el código o script quedan plasmados todos los pasos que se aplicaron en el análisis de datos. Más aun, el uso del paradigma de programación literaria permite generar documentos donde se narran todos los pasos y los resultados ontenidos."
  },
  {
    "objectID": "01_install.html#qué-es-r-y-rstudio",
    "href": "01_install.html#qué-es-r-y-rstudio",
    "title": "2  Comenzando con R",
    "section": "2.1 ¿Qué es R y RStudio?",
    "text": "2.1 ¿Qué es R y RStudio?\nR es un lenguaje y entorno para el procesamiento, visualización y análisis estadístico de datos. Fue creado en 1993 por R. Gentleman y R. Ihaka, ambos científicos del Departamento de Estadística de la Universidad de Auckland (Nueva Zelanda). Actualmente su desarrollo y mantenimiento está a cargo del R Core Team (2023). El sitio oficial del proyecto es www.r-project.org.\n\n\n\n\n\nPágina oficial de R Project\n\n\n\n\nHoy en día, R es la lingua franca del procesamiento y análisis de datos, tanto en el ámbito académico como comercial dado que es gratiuto, multiplataforma, de código abierto (open source, liberado con licencia GNU/GPL). Esto y el ecosistema de paquetes contribuidos por la comunidad de usuarios lo convierte en un software muy potente ya que expresa el estado del arte de los métodos estadísticos.\nLa flexibilidad y potencia de R se basa en su interfaz de comandos (CLI, del inglés command line interface ) que permite la ejecución de comandos de manera interactiva (en consola) o estructurada mediante scripts.\n\n\n\n\n\nEjemplo de consola o terminal de Linux y Windows corriendo la última versión estable de R\n\n\n\n\nExisten algunos desarrollos de interfases gráficas (GUIs, del inglés graphical user interface), e.g. RCommander, Deducer, etc., que ofrecen la posibilidad de, mediante menúes y botones dedicados, ejecutar algunos análisis relativamente simples minimizando la necesidad de escribir código.\n\n\n\n\n\nInterfase de R Commander\n\n\n\n\nLos entornos de desarrollo integrados (IDE por sus siglas en inglés integrated development environments) ofrecen un enfoque intermedio: los menúes o funciones asistentes facilitan algunas tareas generales (abrir archivos, carga de datos, exportar gráficos y resultados, etc.) pero dejan la escritura del código y ejecución del análisis estadístico en manos del usuario. Entre estas alternativas se destaca RStudio desarrollado por la empresa posit el cual también es de código abierto (licencia GNU/GPL), multiplataforma y ofrece una versión gratuita.\n\n\n\n\n\nInterfase de RStudio"
  },
  {
    "objectID": "01_install.html#cómo-instalar-r-y-rstudio",
    "href": "01_install.html#cómo-instalar-r-y-rstudio",
    "title": "2  Comenzando con R",
    "section": "2.2 ¿Cómo instalar R y RStudio?",
    "text": "2.2 ¿Cómo instalar R y RStudio?\nR y RStudio se instalan por separado. Ambos softwares son multiplataforma y pueden ser ejecutados en sistemas operativos Windows, Mac OS X y Linux.\nR puede funcionar sin RStudio, en cambio RStudio necesita que al menos una versión de R esté instalada en el sistema.\n\nLa página de descarga de posit https://posit.co/download/rstudio-desktop/ ofrece un excelente punto de partida para instalar ambos programas.\n\n\n\n\n\nPágina de descaga de R\n\n\n\n\nA continuación se describe el procedimiento para instalar R y RStudio bajo Windows.\n\n2.2.1 Instalación de R\n\nClick en el botón DOWNLOAD AND INSTALL R:\n\n\n\n\n\n\nPágina de descaga de R\n\n\n\n\n\n\n\n\n\nPágina de descaga de R\n\n\n\n\n\n\n\n\n\nDirigirse a Install R for firt time\n\n\n\n\n\n\n\n\n\nDirigire a “Download R-X.X.X for Windows”\n\n\n\n\nDescargar el archivo instalador correspondiente a la última versión estable de R desde el CRAN1 (del inglés, Comprenhensive R Archive Network) visitando el siguiente link.\n\nEjecutar el archivo descargado 2 y seguir el asistente de instalación con todas las opciones por defecto.\n\n\nSi la instalación ha sido exitosa en el menú Inicio podrá encontrarse la carpeta R que contendrá dos accesos directos a la interfase de usuario mínima que viene con la versión de R para Windows.\n\n\n\n\n\n\nR GUI para Windows\n\n\n\n\n\n\n2.2.2 Instalación de RStudio\n\nClick en el botón DOWNLOAD RSTUDIO DESKTOP FOR ......:\n\n\n\n\n\n\nPágina de descaga de R\n\n\n\n\nDescargar el archivo de instalación correspondiente a nuestra plataforma o sistema operativo. Al momento de escribir estas instrucciones la última versión estable de RStudio era RStudio-2023.09.0-463.exe que se encuentra en este link\nEn el caso que haya una nueva versión, ir al sitio web de descarga de RStudio https://posit.co/download/rstudio-desktop/\n\n\n\n\n\nPágina de descarga de RStudio\n\n\n\n\n\nEjecutar el archivo .exe y seguir el asistente de instalación con todas las opciones por defecto.\nSi la instalación ha sido exitosa en el menú Inicio dentro de la carpeta RStudio se encontrará el acceso directo a RStudio el cual, mediante el menu contextual (botón derecho del ratón) puede enviarse al Escritorio como acceso directo o bien anclar al menu de Inicio o barra de acceso rápido.\n\n\n\n\n\n\nIcono de RStudio\n\n\n\n\nAhora sí, ya tenemos listo R y RStudio para empezar a trabajar!!\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nInstalar R y RStudio"
  },
  {
    "objectID": "01_install.html#primera-sesión",
    "href": "01_install.html#primera-sesión",
    "title": "2  Comenzando con R",
    "section": "2.3 Primera sesión",
    "text": "2.3 Primera sesión\nEl entorno de trabajo de RStudio se divide en cuatro paneles. La disposición y contenido de los paneles se puede personalizar yendo a View &gt; Panes &gt; Panes Layout.... A continuación la descripción de los paneles principales:\n\n\n\n\n\nInterfase principal de RStudio\n\n\n\n\n\nEditor. Es donde se editan los scripts que son archivos de texto plano con los comandos para ejecutar en R. Este panel no aparece a menos que se cree un nuevo script o se abra uno previamente guardado.\nConsole (consola). Es donde vive R propiamente dicho. Allí se ejecutan los comandos y se obtienen las salidas de R.\nEnvironmnet/History/Connections. En la primera pestaña se visualizan los objetos (variables, funciones o datos cargados) que están disponibles en el entorno de R, i.e. en la memoria. En la segunda se puede ver el historial de comandos ingresados o enviados a la consola. La tercera pestaña visualiza las conexiones establecidas con diferentes base de datos.\nFiles/Plots/Packages/Help/Viewer. Allí se puede manejar los archivos del directorio de trabajo, visualizar los gráficos generados en R con posibilidad de exportarlos en varios formatos, administrar los paquetes o complementos, buscar o explorar el manual de ayuda y previsualizar archivos HTML.\n\n\n2.3.1 La consola\nLa línea de comandos o consola es el modo interactivo mediante el cual podemos ejecutar comandos directamente en el intérprete de R. El símbolo o prompt &gt; indica que R está disponible esperando una orden. Si la orden no está completa el símbolo se transforma en +. Por ejemplo: si tipeamos 2 + 2 y luego ENTER:\n\n2 + 2\n\n[1] 4\n\n\nObetenemos inmediatemente el resultado. Otro ejemplo: el promedio de los números 1, 3 y 4\n\n(1 + 3 + 4) / 3\n\n[1] 2.666667\n\n\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nEscribir una operacion matemática, por ejemplo: 3*4\nEscribir algo en la consola. ¿Que sucede?\nEscribir lo anterior entre comillas \" \".\n\n\n\n\n\n2.3.2 El script\nEl editor de scripts (panel #1) es un editor de texto plano que está conectado con la consola (panel #2). Tiene algunas funcionalidades que facilitan la edición del código:\n\nResaltado sintaxis: mediante colores resalta las funciones, variables, comandos o palabras claves del lenguaje R\nSangrado automático: agrega espacios en blanco para mantener la sangría de los bloques de código.\nPlegado de código: permite colapsar bloques de código\nCompletado automático y ayuda en linea: muestra sugerencias para completar el comando o argumentos usando la tecla TAB.\n\nPara crear un nuevo script se puede usar uno de los siguientes métodos:\n\nIr a al menu File &gt; New File &gt; R Script\nUsar el atajo de teclado CTRL + SHIFT + N\nClickear en el primer ícono de la barra de menu\n\n\n\n\n\n\nBarra de herramientas de RStudio\n\n\n\n\nUna vez abierto el script en blanco, se pueden empezar a escribir los comandos de R. Por ejemplo podemos escribir lo siguiente:\n\n\"Hola Mundo!\" # Clásico mensaje \"Hola mundo!\"\n\n# Calcular el promedio de estos números\n(1 + 3 + 4) / 3\n\nEstos comandos no se van a ejecutar automáticamente ya que sólo los hemos escrito en el script. Para ejecutar los comandos en la consola hay que posicionar el cursor en la línea deseada o bien seleccionar si queremos ejecutar varias a la vez y luego enviarlo a la consola con una de las siguientes opciones:\n\nIr al menu Code &gt; Run Selected Line(s)\nUsar el atajo de teclado CTRL + ENTER o CTRL + R\nUsar el ícono Run de la barra de herramientas de la pestaña del script\n\n\n\n\n\n\nBarra de herramientas del panel Editor\n\n\n\n\nEl simbolo # indica que lo que sigue es un comentario y por lo tanto R lo ignora cuando es enviado a la consola. Los comentarios pueden ir solos en una línea separada o bien dentro de una línea que tenga algún comando. Si bien no son necesarios para correr el código, los comentarios son muy útiles para estructurar el script y hacer anotaciones para que otros, o nosotros en un futuro, entiendan lo que hace esa parte del script.\nPara guardar el script:\n\nIr al menu File &gt; Save o usar el atajo de teclado CTRL + S o bien el ícono con el diskette de la barra de herramientas global o de la pestaña del script activo.\nElegir la carpeta destino y el nombre de archivo. Automáticamente se agregará la extensión .R que corresponde a los scripts.\n\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nAbrir un script nuevo\nEscribir un comentario\nEscribir un texto o un comando numérico\nGuardar el script con el nombre mi_primer_script.R.\n\n\n\n\n\n2.3.3 Directorio de trabajo y proyectos\nR trabaja con un directorio de trabajo o working directory que es la dirección o path que figura en el titulo del panel Console. Esto se puede averiguar con getwd()\n\ngetwd()\n\nPor defecto es el directorio base del usuario que depende de cada plataforma. En linux es el /home/usuario en cambio en Windows es C:/Users/usuario/Documents.\nA menos que se especifique lo contrario, se asume que los archivos de entrada o salida se ubican en esa. Esto se puede modificar en cualquier momento con la función setwd().\n\nsetwd(\"ruta/a/otra/carpeta\")\n\nRStudio extiende esta característica a través de los proyectos o projects. Cada proyecto es una carpeta o folder que contienen un archivo .RProj con algunas configuraciones específicas.\nAl abrir un proyecto, automáticamente se cambia el directorio de trabajo a esta carpeta. Esto permite organizar los archivos de datos, las salidas, los scripts, etc., dentro de un directorio de trabajo (working directory) y volver a ellos de manera más rápida, eficiente, y portable.\nPara crear un proyecto en RStudio:\n\nIr a File &gt; New project... o bien el ícono Create project de la barra de herramientas.\n\n\n\n\n\n\n\nSeleccionar New Directory y en Project type seleccionar New project.\n\n\n\n\n\n\n\n\n\n\nUna vez en el cuadro de diálogo Create new project ingresar el nombre del proyecto (e.g. mi_proyecto) en Directory name que será a su vez el nombre de la carpeta que RStudio va a crear por nosotros.\nLuego en Create project as a subdirectory of indicar donde queremos que RStudio cree la carpeta.\n\n\n\n\n\n\n\nSi todo sale bien, se crea la carpeta con el nombre que indicamos y dentro de ésta un archivo con extensión .Rproj. Este archivo solamente se usa para abrir el directorio. No se debe sobreescribir con el script.\n\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nCrear un proyecto nuevo con el nombre “Intro_R” en el escritorio o lugar de preferencia.\nCerrar Rstudio.\nAbrir Rstudio desde el proyecto.\nCopiar el script creado en la actividad anterior dentro del nuevo proyecto.\nAbrir el script.\n\n\n\n\n\n2.3.4 Ayuda!!!\nPor último, y no menos importante, R y RStudio cuentan con un completo sistema de ayuda.\nDesde la consola se puede acceder usando la función ? seguida del nombre de la función o bien help(\"nombre\")\n\n# Pedir ayuda de la función mean\n?mean\nhelp(mean)\n\nUna de las ventajas de RStudio es que dispone de un panel (Panel #4) dedicado a visualizar las páginas de ayuda. Allí se puede navegar por las páginas utilizando los links, realizar búsquedas, etc. Leer la documentación nunca viene mal y generalmente ahorra dolores de cabeza.\n\n\n\n\nR Core Team. 2023. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/."
  },
  {
    "objectID": "01_install.html#footnotes",
    "href": "01_install.html#footnotes",
    "title": "2  Comenzando con R",
    "section": "",
    "text": "CRAN es un conjunto de servidores espejo distribuidos alrededor del mundo que tienen copias de R y sus paquetes. No es necesario escojer el espejo más cercano ya que el espejo nube (https://cloud.r-project.org) automáticamente determina de que servidor conviene realizar la descarga.↩︎\nAl momento de escribir estas instrucciones la última versión estable de R era la 4.3.1 Beagle Scouts, por lo tanto el link apuntará al archivo R-4.3.1-win.exe.↩︎"
  },
  {
    "objectID": "02_basics.html#operadores-matemáticos-y-lógicos",
    "href": "02_basics.html#operadores-matemáticos-y-lógicos",
    "title": "3  Aspectos básicos de R",
    "section": "3.1 Operadores matemáticos y lógicos",
    "text": "3.1 Operadores matemáticos y lógicos\nComo vimos antes, las operaciones matemáticas básicas se realizan usando los símbolos convencionales:\n\nsuma (+)\nresta (-)\ndivisión (/)\nproducto (*)\npotencia (^)\n\nPor ejemplo, \\(1 + \\left( 3 \\times 4 + \\dfrac{5 -2}{3} \\right)^2\\) en R es:\n\n1 + (3 * 4 + (5 - 2)/3)^2\n\n[1] 170\n\n\nTambién se pueden evaluar expresiones lógicas:\n\nigual que (==)\ndistinto que (!=)\nmayor que (&gt;)\nmenor que (&lt;)\nmayor o igual que (&gt;=)\nmenor o igual que(&lt;=)\n\nEl resultado es TRUE (verdadero) o FALSE (falso). Por ejemplo, podemos evaluar si 3 es igual 4\n\n3 == 4\n\n[1] FALSE\n\n\nO si 5 es mayor o igual a 3\n\n5 &gt;= 3\n\n[1] TRUE\n\n\nTambién se pueden combinar con los operadores intersección (&), unión (|) y negación (!).\nPor ejemplo, evaluar si se cumplen las dos cosas anteriores a la vez\n\n3 == 4 & 5 &gt;= 3\n\n[1] FALSE\n\n\nDevuelve FALSE porque 3 == 4 no es verdadero. Si reemplazamos & por | va a devolver evaluar si una de las dos se cumple:\n\n3 == 4 | 5 &gt;= 3\n\n[1] TRUE\n\n\nTambién se pueden combinar con operaciones matemáticas…\n\n4 * 2 == 8\n\n[1] TRUE\n\n\nEn este caso primero evalúa 4 * 2 y luego compara el resultado con 8\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nHallar el resultado de la siguiente expresión \\((2+4)^2\\) y \\(2^2 + 4^2\\).\nComparar ambos resultados en una linea de comando."
  },
  {
    "objectID": "02_basics.html#variables-y-objetos",
    "href": "02_basics.html#variables-y-objetos",
    "title": "3  Aspectos básicos de R",
    "section": "3.2 Variables y objetos",
    "text": "3.2 Variables y objetos\nUn objeto es un espacio de la memoria que almacena un pedazo de información (una cifra, un conjunto de números, el resultado de un análisis, etc). También se denomina variables ya que su contenido puede cambiar. En R prácticamente todo puede representarse como un objeto.\nLos objetos o variables se crean asignándoles información (números, letras, resultados de operaciones, etc), con el símbolo &lt;- (ALT + -) o =1. Esta informacion se puede recuperar, modificar o utilizar para otros cálculos.\nSupongamos que queremos asignar el valor 2 a la variable x.\n\nx &lt;- 2\n\nEn la consola vuelve a aparecer el simbolo &gt; y nada más. En el ambiente se ve una entrada que dice x y el valor. Podemos recuperar el valor en la consola tipeando el nombre del objeto:\n\nx\n\n[1] 2\n\n\nTambién podemos reusarlo en otro calculo, por ejemplo obtener 2 veces x.\n\n2 * x\n\n[1] 4\n\n\nO bien obtener una nueva variable\n\ny &lt;- 2 * x +1\ny\n\n[1] 5\n\n\n\n\n\n\n\n\nNombres\n\n\n\n\n\nLos nombres de las variables no deben empezar con números ni contener espacios. No pueden usarse operadores (*+-/&%) en los nombres pero puede usarse . o _.\n\n# Mal\n2x &lt;- 3\nmi variable &lt;- 3\n\n# Bien\nx_2 &lt;- 3\nx.2 &lt;- 3\nx2 &lt;- 3\n\n\n\n\n\n\n\n\n\n\nMayúsculas\n\n\n\n\n\nTambién R es sensibles a mayúsculas\n\n# Definir 'A' y 'a'\nA &lt;- 3\na &lt;- 5\n\n# Verificar si 'A' y 'a' son lo mismo\nA == a\n\n[1] FALSE\n\n\n\n\n\n\n3.2.1 Vectores\nSon los objetos más simples a partir de los cuales se construyen otros tipos de objetos. Se crean utilizando la función c() ( combine ) para “combinar” datos del mismo tipo\n\nx &lt;- c(13, 45, 67, 45)\nx\n\n[1] 13 45 67 45\n\n\nEn el caso de mezclar de datos, R los va a convertir al tipo de datos más simple.\nPor ejemplo: si queremos crear un vector con 3 valores: lógico, numérico y texto, R va a asumir que todos los elementos son de tipo texto\n\ny &lt;- c(TRUE, 34, \"hola\")\ny\n\n[1] \"TRUE\" \"34\"   \"hola\"\n\n\nLos vectores están indexados. Se puede acceder a sus elementos usando el operador [ ] e indicando el número de orden.\nPor ejemplo: para recuperar el 3er elemento del vector x\n\ny[3]\n\n[1] \"hola\"\n\n\nVeremos más adelante los distintos tipos.\n\n\n3.2.2 Funciones y argumentos\nPara crear los vectores sin pensarlo utilizamos una funcion c(). Las funciones son series de comandos que hacen alguna acción y producen un resultado.\nGeneralmente tienen la siguiente la siguiente forma:\nnombre_funcion(arg1, arg2, ...)\ndonde arg son los argumentos (valores de entrada u opciones). Algunos argumentos toman valores por defecto otros hay que declararlos.\nPor ejemplo, la función round()` tiene los argumentos:\n\nx, para pasar el número o vector numérico que queremos redondear\ndigits = 0 para indicar el numero de dígitos a usar, por defecto 0.\n\nSupongamos que queremos redondear el numero 3.141593 a 3 dígitos. Para eso usamos la función round() (buscar en la ayuda ?round)\n\n# Indicando los argumentos\nround(x = 3.141593, digits = 3)\n\n[1] 3.142\n\n# Sin indicar los argumentos\nround(3.141593, 3)\n\n[1] 3.142\n\n\nEn este último caso, el orden de los argumentos es clave ya que R asigna los valores en función de la posición.\n\n# Sin indicar los argumentos\nround(3, 3.141593)\n\n[1] 3\n\n\nDevuelve 3 por considera que queremos redondear el número 3\n\n\n3.2.3 Creando funciones\nAsí como R tiene viene con funciones ya definidias, nosotros podemos crear nuestras propias funciones para poder simplificar nuestro analisis encapsulando tareas repetitivas.\nPor ejemplo, supongamos que queremos calcular el área de 3 rectángulos cuyas dimensiones son:\n\nRectangulo 1: base = 10, altura = 20\nRectangulo 1: base = 15, altura = 35\nRectangulo 1: base = 20, altura = 5\n\nSabemos que la fórumla del área es: \\(A = b \\times a\\), donde \\(A\\) es el area, \\(b\\) es la base y \\(a\\) es la altura.\nPodríamos hacer:\n\n10 * 20\n\n[1] 200\n\n15 * 35 \n\n[1] 525\n\n20 * 5\n\n[1] 100\n\n\nComo vimos antes podemos usar vectores y operar con ellos:\n\nbases &lt;- c(10, 15, 20)\nalturas &lt;- c(20, 35, 5)\nbases * alturas\n\n[1] 200 525 100\n\n\nYendo un poco mas lejos, en vez de repetir siempre la operación podríamos encapsularla en una función. Las funciones se crean con function() o \\() y adentro se declaran los argumentos. Por defecto la función devuelve el ultimo comando o bien lo que se indique en return()\n\narea_rectangulo &lt;- function(base, altura) {\n\n  # Calculo sueperficie\n  area &lt;- base * altura\n\n  return(area)\n\n}\n\nR no devuelve nada porque lo que hizo fue crear la función, a continuación podemos usarla:\n\narea_rectangulo(40,50)\n\n[1] 2000\n\narea_rectangulo(bases, alturas)\n\n[1] 200 525 100\n\n\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nCrear una función que calcule el area de un círculo. Tip: la constante \\(\\pi\\) en R está en el objeto pi.\nAvanzado: crear una función más avanzada llamada area que calcule el área de un rectángulo o círculo indicando en el argumento figura y suminisitrando el dato de base y altura o altura, según corresponda.\n¿Cómo podríamos expandirla para controlar el número de decimales de la respuesta?\n¿Por qué este código no funciona?\n\n\nmy_variable &lt;- 10\nmy_varıable"
  },
  {
    "objectID": "02_basics.html#tipos-de-datos",
    "href": "02_basics.html#tipos-de-datos",
    "title": "3  Aspectos básicos de R",
    "section": "3.3 Tipos de datos",
    "text": "3.3 Tipos de datos\n\n3.3.1 Numéricos (numeric)\nNúmeros racionales (enteros o con coma).\n\nx &lt;- c(3, 4, 5)\nclass(x)\n\n[1] \"numeric\"\n\n\nLos números enteros se tratan como numeric a menos que se los convierta con as.integer().\n\ny &lt;- as.integer(x)\nclass(y)\n\n[1] \"integer\"\n\n\nLos datos numéricos permiten todas las operaciones algebráicas\n\nmean(x)\n\n[1] 4\n\nmean(y)\n\n[1] 4\n\n\n\n\n3.3.2 Texto (character)\nCadenas de texto o número delimitadas por comillas (simples o dobles, nom mezclar).\n\nx &lt;- c(\"hola\", '3')\nclass(x)\n\n[1] \"character\"\n\n\nLógicamente no se pueden realizar operaciones numéricas. R avisa y devuelve NA\n\nmean(x)\n\nWarning in mean.default(x): argument is not numeric or logical: returning NA\n\n\n[1] NA\n\n\n\n\n3.3.3 Lógicos (logic)\nCondición verdadero (TRUE o T) o falso (FALSE o F)\n\nlogico &lt;- c(T, F, T, TRUE, FALSE, F)\nlogico\n\n[1]  TRUE FALSE  TRUE  TRUE FALSE FALSE\n\n\nOtro ejemplo: ¿cuáles de los siguientes números son mayores a 30?\n\nx &lt;- c(23, 43, 21, 34, 56, 3, 23, 3)\nx &gt; 30\n\n[1] FALSE  TRUE FALSE  TRUE  TRUE FALSE FALSE FALSE\n\n\n\n\n\n3.3.4 Factores (factor y ordered)\nSi los elementos de vector de tipo texto (character) y representan niveles nominales (categorías), el objeto puede convertirse a factor de modo tal que los valores son reemplazados por un número que se asocia a los niveles del factor (ordenados alfabeticamente, a menos que se indique otra cosa).\nUn ejemplo de un vector tipo character.\n\nx &lt;- c('bajo', 'medio', 'alto', 'alto', 'bajo', 'bajo')\nx\n\n[1] \"bajo\"  \"medio\" \"alto\"  \"alto\"  \"bajo\"  \"bajo\" \n\n\nSólo se muestran los valores (bajo, medio y alto). No hay información de niveles. Ahora si aplicamos factor(x):\n\ny &lt;- factor(x)\ny\n\n[1] bajo  medio alto  alto  bajo  bajo \nLevels: alto bajo medio\n\n\nLos valores pasaron al atributo levels y los datos fueron reemplazados por los identificadores 2, 3, y 1 según el orden alfabético de los niveles.\n\nas.numeric(y)\n\n[1] 2 3 1 1 2 2\n\n\nCuando los niveles tienen una jerarquía u orden, se puede especificar este tipo de relación mediante as.ordered() que convierte el factor en uno especial ordered agregando la relación entre los niveles\n\nz &lt;- factor(x, levels = c('bajo', 'medio', 'alto'))\nz &lt;- as.ordered(z)\nz\n\n[1] bajo  medio alto  alto  bajo  bajo \nLevels: bajo &lt; medio &lt; alto\n\n\nLos factores como cualquier vector también se indexan con [ ].\n\n\n3.3.5 Otros tipos de datos\nLos valores faltantes se simbolizan en R con NA (not available). Indican que debería haber un valor pero que está faltando.\n\nx &lt;- c(1, 2, 3, NA, 4)\nis.na(x)\n\n[1] FALSE FALSE FALSE  TRUE FALSE\n\n\nA diferencia del NA, un valor de tipo NULL indica que no hay información y que tampoco se esperaba que la haya.\n\nx &lt;- c(1, 2, 3, NULL, 4)\nx\n\n[1] 1 2 3 4\n\n\nAlgunas operaciones matemáticas devuelven valores NaN (not a number) cuando no están definidas, por ejemplo:\n\n0/0\n\n[1] NaN\n\n\nO bien valores infinitos (Inf):\n\n1/0\n\n[1] Inf\n\n\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nIngrese lo siguiente en un vector con el nombre color: púrpura, rojo, amarillo, marrón\nMostrar el segundo elemento en el vector (rojo) en la consola.\nIngrese lo siguiente en un vector con el nombre peso: 23, 21, 18, 26"
  },
  {
    "objectID": "02_basics.html#estructura-de-datos",
    "href": "02_basics.html#estructura-de-datos",
    "title": "3  Aspectos básicos de R",
    "section": "3.4 Estructura de datos",
    "text": "3.4 Estructura de datos\nA partir de los tipos de datos que vimos antes, se pueden construir objetos más complejos.\n\n3.4.1 Matriz (matrix)\nColección de vectores de igual longitud y mismo tipo de datos. Se crea con la función matrix(), o combinando filas o columnas de igual longitud con rbind() o cbind().\nPor ejemplo la matriz:\n\\[\n\\mathbf{M} = \\left[\\begin{array}{c c}\n1 & 2 \\\\\n3 & 4 \\\\\n5 & 6 \\\\\n\\end{array} \\right]\n\\] en R se representa así:\n\nM &lt;- matrix(c(1, 2, 3, 4, 5, 6), ncol = 2)\nM\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    2    5\n[3,]    3    6\n\n\nSe puede indexar usando [n, p] donde n es el numero de fila y p numero de columna. Por ejemplo para obtener el elemento \\(m_{12}\\)\n\nM[1,2]\n\n[1] 4\n\n\nO todos los elementos de la columna 2\n\nM[, 2]\n\n[1] 4 5 6\n\n\n\n\n3.4.2 Listas (list)\nEs una generalización de los vectores ya que los elementos pueden ser de igual o diferente tipo de datos\n\nlst &lt;- list(23, \"hola\", TRUE)\nlst\n\n[[1]]\n[1] 23\n\n[[2]]\n[1] \"hola\"\n\n[[3]]\n[1] TRUE\n\n\nSe pueden indexar usando [[ ]]\n\n# El segundo elemento de l\nlst[[2]]\n\n[1] \"hola\"\n\n\nCada elemento a su vez puede ser cualquier objeto de los vistos anteriormente.\n\n\n3.4.3 Hoja de datos (data.frame)\nSimilares a las matrices pero cada columna puede ser de un tipo de dato diferente. Útil para guardar datos donde cada fila es un caso y cada columna una variable.\nSupongamos que tenemos la tabla de datos:\n\n\n\nLote\nVariedad\nRendimiento\n\n\n\n\n1\nEscorpion\n34\n\n\n2\nEscorpion\n36\n\n\n3\nYarara\n40\n\n\n4\nBaguette11\n28\n\n\n5\nTijetera\n31\n\n\n\nEn R podemos representarla así:\n\ntrigo &lt;- data.frame(\n  lote = 1:5,\n  variedad = c('Escorpion', 'Escorpion', 'Yarara', 'Baguette 11', 'Tijetera'),\n  rendimiento = c(34, 36, 40, 28, 31)\n)\ntrigo\n\n  lote    variedad rendimiento\n1    1   Escorpion          34\n2    2   Escorpion          36\n3    3      Yarara          40\n4    4 Baguette 11          28\n5    5    Tijetera          31\n\n\nAl igual que las matrices, un data.frame se puede indexar con [ ]. Por ejemplo, si quisieramos El bombre de la varidedad de la fila 2\n\ntrigo[2, 3]\n\n[1] 36\n\n\nO todos los nombres de la fila 2\n\ntrigo[2, ]\n\n  lote  variedad rendimiento\n2    2 Escorpion          36\n\n\nTambien podemos hacer consultas más específicas: “Lotes con rendimiento mayor a 35 qq/ha”\n\ntrigo[trigo$rendimiento &gt; 35, ]\n\n  lote  variedad rendimiento\n2    2 Escorpion          36\n3    3    Yarara          40\n\n\nLas variables o columnas se pueden acceder individualmente usando o el operador $ seguido dle nombre de la columna o [, \"nombre\"], o [, posicion]. Ejemplo: extraer la columna rendimiento que es la número 3\n\ntrigo$rendimiento\n\n[1] 34 36 40 28 31\n\ntrigo[, \"rendimiento\"]\n\n[1] 34 36 40 28 31\n\ntrigo[, 3]\n\n[1] 34 36 40 28 31\n\n\n\n\n\n\n\n\nOtras estructuras\n\n\n\nLas estructura listadas arriba son nativas de R. Los paquetes o complementos pueden agregar nuevas estructuras o redifinar las existentes.\n\n\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nUnir los 2 vectores de la actividad anterior usando la función data.frame para crear un marco de datos llamado info con 2 columnas y 4 filas. Llame a la primera columna ’color y a la segunda peso.\nVer la estructura de datos en la consola.\nMostrar solo la fila 3 en la consola\nMostrar solo la columna 1 en la consola\nMostrar el elemento de datos en la fila 4, columna 1"
  },
  {
    "objectID": "02_basics.html#footnotes",
    "href": "02_basics.html#footnotes",
    "title": "3  Aspectos básicos de R",
    "section": "",
    "text": "Si bien &lt;- funciona igual que = en la mayoría de los casos, por convención se usa &lt;- para asignar y = para argumentos dentro de las funciones.↩︎"
  },
  {
    "objectID": "03_paquetes.html#qué-son-los-paquetes",
    "href": "03_paquetes.html#qué-son-los-paquetes",
    "title": "4  Paquetes de R",
    "section": "4.1 ¿Qué son los paquetes?",
    "text": "4.1 ¿Qué son los paquetes?\nR viene con un conjunto de librerías mínimo denominado core que permite realizar una amplia varidedad de análisis y operaciones con los datos. La comunidad que desarrolla R provee un repositorio de librerías o paquetes complementarios (packages) que expanden notablemente las funcionalidades de R.\nLos paquetes se deben instalar primero usando la función install.packages() por única vez y en cada sesión se deben cargar con library(). La siguiente figura resume el proceso:\n\n\n\n\n\nSuponiendo que queremos instalar el paquete foo, se debe ejecutar por única vez:\n\ninstall.packages(\"foo\")\n\nLuego, para acceder a todas las funciones que aporta foo, en cada sesión de trabajo ejecutar hay que ejecutar:\n\nlibrary(\"foo\")\n\nAlternativamente, si una vez instalado el paquete foo queremos usar la función bar() pero sin cargar el resto del paquete, entonces:\n\nfoo::bar(...)\n\nEl manejo de paquetes se puede simplificar enormemente con el paquete pacman. Entre otras funciones ofrece la función p_load() que carga los paquetes y si no están instalados los instala previamente.\nPara instalar pacman por primera vez correr el siguiente comando:\n\n# Instalar por unica vez\ninstall.packages(\"pacman\")\n\nLuego, cuando necesitemos podemos ejecutar pacman::p_load(). Por ejemplo, si queremos cargar el paquete moments\n\npacman::p_load(moments)\n\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nInstalar el paquete pacman usando install.packages()\nCargar/Instalar el paquete tidyverse usando pacman::p_load()"
  },
  {
    "objectID": "04_import.html#función-nativa-para-importar-datos",
    "href": "04_import.html#función-nativa-para-importar-datos",
    "title": "5  Importar datos en R",
    "section": "5.1 Función nativa para importar datos",
    "text": "5.1 Función nativa para importar datos\nR viene la función read.table() y derivados, que permiten leer datos desde formatos tipo texto plano (plain text format). El más popular entre estos es *.csv. Este formato asume que los datos están en formato de tabla o rectangular (e.g. variables en columnas y observaciones en filas) y devuelve un data.frame. En ?read.table se detallan todos los argumentos, los más importantes son:\n\nfile para indicar el nombre o ruta al archivo\nheader para indicar si las columnas tienene encabezados que deben ser usados como nombre de las variables.\nsep para indicar el separador de columnas\ndec para indicar el simbolo decimal\n\nDependiendo de las combinaciones de estos 3 argumentos hay variantes (read.csv(), read.csv2(), read.delim(), read.delim2()) que son atajos de `read.table()`` (ver ayuda).\nMediante algun editor de textos (puede ser dentro de RStudio) conviene abrir el archivo y examinarlo para determinar:\n\nTiene encabezados?\nCómo están separadas las columnas?\nCuál es el símbolo del decimal?\n\nSupongamos que tenemos el archivo de texto prueba.csv, las alternativas podrían ser:\n\n# Con encabezados, separado por tabulaciones y el decimal es el punto\nprueba &lt;- read.table(\"prueba.csv\", header = T, sep = \"\\t\", dec = \".\")\n\n# Con encabezados, separado por tabulaciones y coma como decimal\nprueba &lt;- read.table(\"prueba.csv\", header = T, sep = \"\\t\", dec = \",\")\n\n# Con encabezados, separado comas y punto como decimal\nprueba &lt;- read.table(\"prueba.csv\", header = T, sep = \",\", dec = \".\")\n\n# Con encabezados, separado punto y coma, y con coma como punto decimal\nprueba &lt;- read.table(\"prueba.csv\", header = T, sep = \";\", dec = \",\")\n\nEn el caso que el archivo prueba.csv esté en otro directorio o ubicación que no sea el proyecto o getwd() hay que indicar la ruta completa al archivo.\nUna vez importados los datos es conveniente verificar como han sido leidos en el R. Una alternativa es imprimirlo escribiendo el nombre del objeto directamente en la consola.\n\nprueba\n\nOtra alternativa es utilizar la función View() que muestra la tabla de datos en un formato de planilla interactiva de solo lectura.\n\nView(prueba)\n\nSi bien podemos inferir que tipo de datos se leyeron, una alternativa mejor es mirar la estructura con la función str().\n\nstr(prueba)\n\n\n\n\n\n\n\nACTIVIDAD\n\n\n\n\nAbrir un documento de texto en RStudio\nRetomando el ejemplo del set de datos de trigo, crear un archivo separado por comas con los siguientes datos\n\nLote,Variedad,Rendimiento\n1,Escorpion,34\n2,Escorpion,36\n3,Yarara,40\n4,Baguette11,28\n5,Tijetera,31\n\nGuardar el archivo como prueba_trigo.csv.\nLeer el set de datos dentro de R usando la función read.table() o alguna de sus variantes.\nVerificar la importacion de los datos."
  },
  {
    "objectID": "04_import.html#paquetes-para-importar-datos",
    "href": "04_import.html#paquetes-para-importar-datos",
    "title": "5  Importar datos en R",
    "section": "5.2 Paquetes para importar datos",
    "text": "5.2 Paquetes para importar datos\nExisten paquetes específicos que permiten leer virtualmente cualquier formato de archivos.\n\n5.2.1 readr\nSi bien la función read.table() y derivadas permiten leer datos rectangulares en formato texto, el paquete readr link provee una implementación más moderna (y rápidas) de estas funciones. Las funciones se llaman igual que las nativas pero se reemplaza . por _ en el nombre. Ejemplo: read_table()\nEste paquete ya está integrado a tidyverse. Para leer el set de datos que creamos en la actividad anterior:\n\npacman::p_load(tidyverse)\nprueba_trigo &lt;- read_csv(\"datasets/prueba_trigo.csv\")\n\nRows: 5 Columns: 3\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): Variedad\ndbl (2): Lote, Rendimiento\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nprueba_trigo\n\n# A tibble: 5 × 3\n   Lote Variedad   Rendimiento\n  &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;\n1     1 Escorpion           34\n2     2 Escorpion           36\n3     3 Yarara              40\n4     4 Baguette11          28\n5     5 Tijetera            31\n\n\nA diferencia de la función nativa, las funciones de readr devuelven un objeto llamado tibble que es una especie de data.frame pero con algunas propiedades extra.\n\n\n5.2.2 rio\nA diferencia de readr que es una reimplementación de funciones de R, hay un paquete llamado rio link que es una especie de metapaquete y permite simplificar la importación, exportación, y conversión de formatos en una sintaxis unificada.\nEste paquete trabaja con una mayor variedad de formatos y, basado en la extensión del archivo, busca la función y/o paquete apropiado para leer o guardar los datos. En el caso de ser necesario, se pueden pasar argumentos a las funciones.\nRetomando el ejemplo de trigo, podemos leer los datos con la función import()\n\npacman::p_load(rio)\nprueba_trigo &lt;- import(\"datasets/prueba_trigo.csv\")\nprueba_trigo\n\n  Lote   Variedad Rendimiento\n1    1  Escorpion          34\n2    2  Escorpion          36\n3    3     Yarara          40\n4    4 Baguette11          28\n5    5   Tijetera          31\n\n\nA diferencia de readr siempre devuelve un data.frame. Si queremos que devuelva un tibble podemos usar el argumento setclass\n\nprueba_trigo &lt;- import(\"datasets/prueba_trigo.csv\", setclass = \"tibble\")\nprueba_trigo\n\n# A tibble: 5 × 3\n   Lote Variedad   Rendimiento\n  &lt;int&gt; &lt;chr&gt;            &lt;int&gt;\n1     1 Escorpion           34\n2     2 Escorpion           36\n3     3 Yarara              40\n4     4 Baguette11          28\n5     5 Tijetera            31"
  },
  {
    "objectID": "04_import.html#formas-de-importar-datos",
    "href": "04_import.html#formas-de-importar-datos",
    "title": "5  Importar datos en R",
    "section": "5.3 Formas de importar datos",
    "text": "5.3 Formas de importar datos\nA continuación vamos a detallar dos formas de abrir el archivo urbana_weather.xlsx que contiene datos meteorológicos de la ciudad de Urbana (Illinois).\n\n5.3.1 Desde la consola (recomendado)\nUna vez que descargamos el archivo datos en la carpeta datasets dentro de nuestro directorio de trabajo o proyecto podemos leerlo en R usando la función import() del paquete rio. Esta función se encargará de llamar la función necesaria para leer el archivo que le suministremos.\n\nurbana &lt;- import(\"datasets/urbana_weather.xlsx\", setclass = \"tibble\")\nurbana\n\n# A tibble: 240 × 4\n    YEAR month precip  temp\n   &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;\n 1  2000 Jan     1.54  25.6\n 2  2001 Jan     1.32  25.4\n 3  2002 Jan     2.81  34  \n 4  2003 Jan     0.79  21.1\n 5  2004 Jan     2.18  24  \n 6  2005 Jan     6.2   27.8\n 7  2006 Jan     1.78  37.8\n 8  2007 Jan     3.03  29.7\n 9  2008 Jan     2.31  26.2\n10  2009 Jan     0.68  18.8\n# ℹ 230 more rows\n\n\nSi sólo estuvieramos ineresados en el rango A1:C5 (primeros 4 registros de las 3 primeras columnas), podríamos usar:\n\nurbana2 &lt;- import(file = \"datasets/urbana_weather.xlsx\", range = \"A1:C5\")\nurbana2\n\n  YEAR month precip\n1 2000   Jan   1.54\n2 2001   Jan   1.32\n3 2002   Jan   2.81\n4 2003   Jan   0.79\n\n\n\n\n5.3.2 Desde el importador de datos de RStudio\nRStudio cuenta con un asistente de importación de datos (File &gt; Import Dataset) que brinda interfase a varias funciones especializadas en la importación de datos de paquetes específicos como readr, readxl, etc.\nEn el menú File &gt; Import Dataset o bien el ícono del panel Environment despliega una lista con disitintas opciones de importación: nos interesa From Excel (readxl)...\n\n\n\n\n\nImportador de datos\n\n\n\n\n\n\n\n\n\nImportador de datos\n\n\n\n\nEste menú tiene cuatro paneles:\n\nUna barra de direccion para indicar la ruta al archivo o URL.\nUna vista previa del contenido del archivo\nOpciones de importación: aquí se puede especificar el nombre del objeto que se creará dentro de R (Name), la cantidad de lineas a leer, el número de la hoja, el rango de celdas, líneas a saltear (skip) y el identificador de datos NA.\nVista previa del código. En esta parte se puede visualizar como se construye el comando que se ejecturará al clickear en Import.\n\n\n\n\n\n\n\nAclaración\n\n\n\nSi bien esta alternativa es intuitiva y amigable, no es reproducible a menos que el código generado por este asistente sea incluido en el script para futuras sesiones.\n\n\n\n\n5.3.3 Desde el portapapeles\nUna alternativa conveniente para acceder rápidamente a los datos es usando el portapapeles. Suponiendo que los datos estan en una hoja de cálculos:\n\nSeleccionar el rango de celdas A1:C5 que nos interesa incluyendo los encabezados\nCopiar en el porta papeles (CTRL + C)\nLuego en R\n\n\nurbana3 &lt;- read.table(\"clipboard\")\n\n\n\n\n\n\n\nAclaración\n\n\n\nSi bien esta alternativa es rápida, al no ser reproducible (no hay forma de plasmarla en el script para futuras sesiones), no es recomendable salvo para una exploración rápida."
  },
  {
    "objectID": "05_wrangling.html#cómo-instalar-dplyr-y-tidyr",
    "href": "05_wrangling.html#cómo-instalar-dplyr-y-tidyr",
    "title": "6  Manipulando datos con dplyr y tidyr",
    "section": "6.1 ¿Cómo instalar dplyr y tidyr?",
    "text": "6.1 ¿Cómo instalar dplyr y tidyr?\nPara acceder a estos paquetes instalarlos/cargarlos individualmente:\n\npacman::p_load(dplyr, tidyr)\n\nO bien con otros paquete de la familia tidyverse\n\npacman::p_load(tidyverse)\n\nR va a avisarnos en la consola que esta enmascarando (reemplazando) algunas funciones que ya estaban en el entorno, o bien el paquete nos devuelve algun mensaje. A menos que diga Error ..., eso está bien."
  },
  {
    "objectID": "05_wrangling.html#verbos-importantes-de-dplyr-para-recordar",
    "href": "05_wrangling.html#verbos-importantes-de-dplyr-para-recordar",
    "title": "6  Manipulando datos con dplyr y tidyr",
    "section": "6.2 Verbos importantes de dplyr para recordar",
    "text": "6.2 Verbos importantes de dplyr para recordar\nToda la estrategia de trabajo con datos de dplyr se basa en 6 verbos:\n\n\n\nverbo\ndescripción\n\n\n\n\nselect()\nselecciona columnas (variables)\n\n\nfilter()\nfiltra o selecciona las filas (observaciones)\n\n\narrange()\nre-ordena las filas\n\n\nmutate()\ncrea nuevas columnas o modifica las preexistentes\n\n\nsummarise()\nresumen los valores de una variable\n\n\ngroup_by()\npermite aplicar los verbos anteriores en subgrupos (split-apply-combine)\n\n\n\nEn la mayoría de los casos la sintaxis es:\nfunction(que_datos, que_hacer_con_los_datos)\ndonde que_datos es el nombre del set de datos (un data.frame) y que_hacer_con_los_datos indicar que operación, condicion, transformacion, etc. aplicar a las filas y columnas.\nVeamos unos ejemplos"
  },
  {
    "objectID": "05_wrangling.html#seleccionando-variables",
    "href": "05_wrangling.html#seleccionando-variables",
    "title": "6  Manipulando datos con dplyr y tidyr",
    "section": "6.3 Seleccionando variables",
    "text": "6.3 Seleccionando variables\nPara seleccionar columnas (variables) de interes usamos select(). La selección se puede hacer por nombre de la columna (con o sin comillas) o indicando su posición.\nLas columnas del set de datos de ejemplo se denominan:\n\nnames(novillos)\n\n [1] \"IDV\"           \"Tropa\"         \"Procedencia\"   \"Fecha_Ingreso\"\n [5] \"Peso_inicial\"  \"Peso_anterior\" \"GPV_anterior\"  \"GDM_anterior\" \n [9] \"Fecha\"         \"Hora\"          \"Peso\"          \"Días\"         \n[13] \"Días_total\"   \n\n\nSi quisieramos seleccionar las columnas Procedencia, Peso_inicial, Peso_anterior y Peso, podríamos ejectuar:\n\nselect(novillos, Procedencia, Peso_inicial, Peso_anterior, Peso)\n\n# A tibble: 1,842 × 4\n   Procedencia    Peso_inicial Peso_anterior  Peso\n   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;\n 1 &lt;NA&gt;                    188           306   398\n 2 La Rosita               232           290   387\n 3 La Alameda              204           290   386\n 4 &lt;NA&gt;                    204           303   382\n 5 La Alameda              202           300   382\n 6 La Rosita               234           333   374\n 7 Los Corralitos          214           287   371\n 8 Los Corralitos          184           315   369\n 9 La Rosita               234           288   365\n10 La Alameda              206           262   365\n# ℹ 1,832 more rows\n\n\nEl resultado es un nuevo data.frame o tibble que sólo contiene las 4 columnas seleccionadas. Si quisieramos guardar este resultado aparte.\n\npesos &lt;- select(novillos, Procedencia, Peso_inicial, Peso_anterior, Peso)\npesos\n\n# A tibble: 1,842 × 4\n   Procedencia    Peso_inicial Peso_anterior  Peso\n   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;\n 1 &lt;NA&gt;                    188           306   398\n 2 La Rosita               232           290   387\n 3 La Alameda              204           290   386\n 4 &lt;NA&gt;                    204           303   382\n 5 La Alameda              202           300   382\n 6 La Rosita               234           333   374\n 7 Los Corralitos          214           287   371\n 8 Los Corralitos          184           315   369\n 9 La Rosita               234           288   365\n10 La Alameda              206           262   365\n# ℹ 1,832 more rows\n\n\nCuando se imprime en la consola, es lo mismo que usar print() la cual por defecto muestra las 10 primeras observaciones y la cantidad de columnas que entran en la pantalla. Aquellas columnas que no entran son indicadas al pie.\nSi uno desea ver más registros se puede usar el argumento n = de print()\n\nprint(pesos, n = 15)\n\n# A tibble: 1,842 × 4\n   Procedencia    Peso_inicial Peso_anterior  Peso\n   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;\n 1 &lt;NA&gt;                    188           306   398\n 2 La Rosita               232           290   387\n 3 La Alameda              204           290   386\n 4 &lt;NA&gt;                    204           303   382\n 5 La Alameda              202           300   382\n 6 La Rosita               234           333   374\n 7 Los Corralitos          214           287   371\n 8 Los Corralitos          184           315   369\n 9 La Rosita               234           288   365\n10 La Alameda              206           262   365\n11 La Alameda              216           308   362\n12 La Rosita               240           298   362\n13 La Alameda              164           285   361\n14 La Rosita               216           308   361\n15 La Alameda              176           289   361\n# ℹ 1,827 more rows\n\n\nCon n = \"all\" se imprimen todas (no se muestra por razones obvias)\nEl orden en que aparecen las variables en el resultado es el orden que se utilizó al seleccionarlas.\n\nselect(novillos, Procedencia, Peso, Peso_inicial, Peso_anterior)\n\n# A tibble: 1,842 × 4\n   Procedencia     Peso Peso_inicial Peso_anterior\n   &lt;chr&gt;          &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;\n 1 &lt;NA&gt;             398          188           306\n 2 La Rosita        387          232           290\n 3 La Alameda       386          204           290\n 4 &lt;NA&gt;             382          204           303\n 5 La Alameda       382          202           300\n 6 La Rosita        374          234           333\n 7 Los Corralitos   371          214           287\n 8 Los Corralitos   369          184           315\n 9 La Rosita        365          234           288\n10 La Alameda       365          206           262\n# ℹ 1,832 more rows\n\n\nTambién se puede usar los comandos starts_with(), ends_with(), contains(), etc (ver ?select_helpers) para más opciones). Para elegir varias columnas que tienen un patrón sin tener que tipear todos los nombres.\n\nselect(novillos, starts_with(\"P\"))\n\n# A tibble: 1,842 × 4\n   Procedencia    Peso_inicial Peso_anterior  Peso\n   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;\n 1 &lt;NA&gt;                    188           306   398\n 2 La Rosita               232           290   387\n 3 La Alameda              204           290   386\n 4 &lt;NA&gt;                    204           303   382\n 5 La Alameda              202           300   382\n 6 La Rosita               234           333   374\n 7 Los Corralitos          214           287   371\n 8 Los Corralitos          184           315   369\n 9 La Rosita               234           288   365\n10 La Alameda              206           262   365\n# ℹ 1,832 more rows\n\n\nPara omitir algunas columnas en la seleccion se puede usar el - antes del nombre. Por ejemplo, omitir la columna IDV y todas las que empiezan con P.\n\nselect(novillos, -IDV, -starts_with(\"P\"))\n\n# A tibble: 1,842 × 8\n   Tropa Fecha_Ingreso GPV_anterior GDM_anterior Fecha Hora      Días Días_total\n   &lt;dbl&gt; &lt;chr&gt;                &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;      &lt;dbl&gt;\n 1     2 42939                   51         1.04 43138 0.80824…    76        293\n 2     2 42940                    2         0.04 43138 0.46511…    76        293\n 3     2 42939                   33         0.67 43138 0.34270…    76        302\n 4     2 42940                   27         0.52 43138 0.34829…    75        293\n 5     2 42940                   30         0.58 43138 0.80134…    75        304\n 6     2 42940                   38         0.73 43138 0.34018…    75        295\n 7     2 42938                   14         0.27 43138 0.32917…    75        303\n 8     2 42939                   37         0.76 43138 0.33152…    76        303\n 9     2 42938                    0         0    43138 0.37302…    76        302\n10     2 42940                    2         0.08 43143 0.46458…   132        306\n# ℹ 1,832 more rows"
  },
  {
    "objectID": "05_wrangling.html#seleccionando-observaciones",
    "href": "05_wrangling.html#seleccionando-observaciones",
    "title": "6  Manipulando datos con dplyr y tidyr",
    "section": "6.4 Seleccionando observaciones",
    "text": "6.4 Seleccionando observaciones\nOtra tarea muy frecuente es seleccionar casos o observaciones que cumplan con alguna condición. Esto se lleva a cabo con filter(). Se pueden usar los operadores booleanos ==, &gt;, &lt;, &gt;=, &lt;=, !=, %in%) para crear pruebas o condiciones lógicas.\nPor ejemplo, para seleccionar los novillos de Los Corralitos:\n\nfilter(novillos, Procedencia == 'Los Corralitos')\n\n# A tibble: 57 × 13\n   IDV   Tropa Procedencia Fecha_Ingreso Peso_inicial Peso_anterior GPV_anterior\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;                &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;\n 1 PO15…     2 Los Corral… 42938                  214           287           14\n 2 PO15…     2 Los Corral… 42939                  184           315           37\n 3 PO15…     2 Los Corral… 42937                  168           266           22\n 4 PO15…     2 Los Corral… 42937                  182           281           31\n 5 PO15…     2 Los Corral… 42938                  200           276           20\n 6 PO15…     2 Los Corral… 42937                  162           231           19\n 7 PO15…     2 Los Corral… 42937                  166           240           26\n 8 PO15…     2 Los Corral… 42942                  162           232           28\n 9 PO15…     2 Los Corral… 42939                  200           258           26\n10 PO15…     2 Los Corral… 42940                  170           252           37\n# ℹ 47 more rows\n# ℹ 6 more variables: GDM_anterior &lt;dbl&gt;, Fecha &lt;chr&gt;, Hora &lt;chr&gt;, Peso &lt;dbl&gt;,\n#   Días &lt;dbl&gt;, Días_total &lt;dbl&gt;\n\n\nPara crear un subconjunto podemos asignarlo y crear un nuevo set de datos.\n\ncorralitos &lt;- filter(novillos, Procedencia == 'Los Corralitos')\n\nLa selección se puede hacer por más de una condición. Por ejemplo, seleccionar los de Los Corralitos que pesen más de 300 kg:\n\nfilter(novillos, Procedencia == 'Los Corralitos', Peso &gt; 300)\n\n# A tibble: 29 × 13\n   IDV   Tropa Procedencia Fecha_Ingreso Peso_inicial Peso_anterior GPV_anterior\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;                &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;\n 1 PO15…     2 Los Corral… 42938                  214           287           14\n 2 PO15…     2 Los Corral… 42939                  184           315           37\n 3 PO15…     2 Los Corral… 42937                  168           266           22\n 4 PO15…     2 Los Corral… 42937                  182           281           31\n 5 PO15…     2 Los Corral… 42938                  200           276           20\n 6 PO15…     2 Los Corral… 42937                  162           231           19\n 7 PO15…     2 Los Corral… 42937                  166           240           26\n 8 PO15…     2 Los Corral… 42942                  162           232           28\n 9 PO15…     1 Los Corral… 23/7/2017              252           343           31\n10 PO15…     1 Los Corral… 22/7/2017              234           338           23\n# ℹ 19 more rows\n# ℹ 6 more variables: GDM_anterior &lt;dbl&gt;, Fecha &lt;chr&gt;, Hora &lt;chr&gt;, Peso &lt;dbl&gt;,\n#   Días &lt;dbl&gt;, Días_total &lt;dbl&gt;\n\n\nfilter() asume que cada condicion se debe cumplir en simultaneo para que la observación sea seleccionada. Esto equivale a utilizar el operador & (Y). En caso de querer seleccionar aquellos registros que cumple una u otra condicion se usa el operador | (O). Poniendo ! delante de la condicion se invierte la selección.\nPor ejemplo, para obtener novillos que son de Los Corralitos O pesan más de 300 kg.\n\nfilter(novillos, Procedencia == 'Los Corralitos' | Peso &gt; 300)\n\n# A tibble: 841 × 13\n   IDV   Tropa Procedencia Fecha_Ingreso Peso_inicial Peso_anterior GPV_anterior\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;                &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;\n 1 GH73…     2 &lt;NA&gt;        42939                  188           306           51\n 2 IA67…     2 La Rosita   42940                  232           290            2\n 3 PO15…     2 La Alameda  42939                  204           290           33\n 4 GH73…     2 &lt;NA&gt;        42940                  204           303           27\n 5 SZ20…     2 La Alameda  42940                  202           300           30\n 6 IA67…     2 La Rosita   42940                  234           333           38\n 7 PO15…     2 Los Corral… 42938                  214           287           14\n 8 PO15…     2 Los Corral… 42939                  184           315           37\n 9 NS50…     2 La Rosita   42938                  234           288            0\n10 QX67…     2 La Alameda  42940                  206           262            2\n# ℹ 831 more rows\n# ℹ 6 more variables: GDM_anterior &lt;dbl&gt;, Fecha &lt;chr&gt;, Hora &lt;chr&gt;, Peso &lt;dbl&gt;,\n#   Días &lt;dbl&gt;, Días_total &lt;dbl&gt;"
  },
  {
    "objectID": "05_wrangling.html#encadenando-operaciones-operador",
    "href": "05_wrangling.html#encadenando-operaciones-operador",
    "title": "6  Manipulando datos con dplyr y tidyr",
    "section": "6.5 Encadenando operaciones (operador %>%)",
    "text": "6.5 Encadenando operaciones (operador %&gt;%)\nEl operador %&gt;% permite encadenar operaciones sucesivas para evitar tener que crear tablas intermedias o anidar funciones. El operador y se le de izquierda a derecha y se puede traducir como luego.\nPor ejemplo, reportar los IDV y Peso de los novillos con más de 250 kg. Esto implicaría seleccionar las columnas de interés creando tablas intermedias y luego filtrar la tabla o vice versa.\nCreando tablas intermedias\n\nnovillos2 &lt;- select(novillos, IDV, Peso)\nnovillos2\n\n# A tibble: 1,842 × 2\n   IDV        Peso\n   &lt;chr&gt;     &lt;dbl&gt;\n 1 GH738B371   398\n 2 IA671B298   387\n 3 PO150A818   386\n 4 GH738B340   382\n 5 SZ208H766   382\n 6 IA671B133   374\n 7 PO150A532   371\n 8 PO150A563   369\n 9 NS509H071   365\n10 QX678K546   365\n# ℹ 1,832 more rows\n\nnovillos2 &lt;- filter(novillos2, Peso &gt; 250)\nnovillos2\n\n# A tibble: 1,682 × 2\n   IDV        Peso\n   &lt;chr&gt;     &lt;dbl&gt;\n 1 GH738B371   398\n 2 IA671B298   387\n 3 PO150A818   386\n 4 GH738B340   382\n 5 SZ208H766   382\n 6 IA671B133   374\n 7 PO150A532   371\n 8 PO150A563   369\n 9 NS509H071   365\n10 QX678K546   365\n# ℹ 1,672 more rows\n\n\nAnidando las funciones:\n\nfilter(select(novillos, IDV, Peso), Peso &gt; 250)\n\n# A tibble: 1,682 × 2\n   IDV        Peso\n   &lt;chr&gt;     &lt;dbl&gt;\n 1 GH738B371   398\n 2 IA671B298   387\n 3 PO150A818   386\n 4 GH738B340   382\n 5 SZ208H766   382\n 6 IA671B133   374\n 7 PO150A532   371\n 8 PO150A563   369\n 9 NS509H071   365\n10 QX678K546   365\n# ℹ 1,672 more rows\n\n\nUna opción más clara para leer y eficiente es usando %&gt;%\n\nnovillos %&gt;%\n  select(IDV, Peso) %&gt;%\n  filter(Peso &gt;  250)\n\n# A tibble: 1,682 × 2\n   IDV        Peso\n   &lt;chr&gt;     &lt;dbl&gt;\n 1 GH738B371   398\n 2 IA671B298   387\n 3 PO150A818   386\n 4 GH738B340   382\n 5 SZ208H766   382\n 6 IA671B133   374\n 7 PO150A532   371\n 8 PO150A563   369\n 9 NS509H071   365\n10 QX678K546   365\n# ℹ 1,672 more rows\n\n\nCon %&gt;% se puede omitir el nombre de la tabla sobre la que se está trabajando (bonus: menos tipeo).\nLa última opción se lee: _tomar la tabla novillos, luego seleccionar las columnas IDV y Peso, luego filtrar los novillos con pesos mayores a 250 kg."
  },
  {
    "objectID": "05_wrangling.html#ordenar-las-filas",
    "href": "05_wrangling.html#ordenar-las-filas",
    "title": "6  Manipulando datos con dplyr y tidyr",
    "section": "6.6 Ordenar las filas",
    "text": "6.6 Ordenar las filas\nPara ordenar según algún criterio aplicado a las columnas se usa arrange(). Por ejemplo, continuar con lo anterior pero mostrar ordenadospor peso.\n\nnovillos %&gt;%\n  select(IDV, Peso) %&gt;%\n  filter(Peso &gt;  250) %&gt;%\n  arrange(Peso)\n\n# A tibble: 1,682 × 2\n   IDV        Peso\n   &lt;chr&gt;     &lt;dbl&gt;\n 1 ME367A534   251\n 2 SZ208H833   251\n 3 NS545A388   251\n 4 ME367A545   251\n 5 NS509H010   251\n 6 PO150A777   251\n 7 PO150A752   251\n 8 SZ208H765   252\n 9 NS545A455   252\n10 SZ208I511   252\n# ℹ 1,672 more rows\n\n\nCon decs(variable) se ordena de mayor a menor\n\nnovillos %&gt;%\n  select(IDV, Peso) %&gt;%\n  filter(Peso &gt;  250) %&gt;%\n  arrange(desc(Peso))\n\n# A tibble: 1,682 × 2\n   IDV        Peso\n   &lt;chr&gt;     &lt;dbl&gt;\n 1 GH738B371   398\n 2 IA671B276   397\n 3 IA671B298   387\n 4 PO150A818   386\n 5 GH738B340   382\n 6 SZ208H766   382\n 7 IA671B133   374\n 8 PO150A532   371\n 9 PO150A866   371\n10 PO150A563   369\n# ℹ 1,672 more rows"
  },
  {
    "objectID": "05_wrangling.html#crear-o-transformar-columnas",
    "href": "05_wrangling.html#crear-o-transformar-columnas",
    "title": "6  Manipulando datos con dplyr y tidyr",
    "section": "6.7 Crear o transformar columnas",
    "text": "6.7 Crear o transformar columnas\nPara crear nuevas columnas aplicando funciones a otras, o bien para transformar columnas se usa mutate(). Se pueden modificar más de una columna a la vez. Por ejemplo, suponiendo que interesa obtener la diferencia de peso desde el inicio del ciclo:\ndif_peso = Peso - Peso_inicial\n\nnovillos %&gt;% \n  mutate(dif_peso = Peso - Peso_inicial) %&gt;%\n  select(Peso, Peso_inicial, dif_peso)  # para que se vea mejor el resultado \n\n# A tibble: 1,842 × 3\n    Peso Peso_inicial dif_peso\n   &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;\n 1   398          188      210\n 2   387          232      155\n 3   386          204      182\n 4   382          204      178\n 5   382          202      180\n 6   374          234      140\n 7   371          214      157\n 8   369          184      185\n 9   365          234      131\n10   365          206      159\n# ℹ 1,832 more rows\n\n\nEsto no cambia el set de datos novillos ya que no se lo asignó a ningun objeto. Para sobreescribir o actualiza el set de datos novillos hay que asignarlo al mismo objeto.\n\nnovillos &lt;- novillos %&gt;% \n  mutate(dif_peso = Peso - Peso_inicial)\n\nAclaración: Si se hubiese usado select() el set de datos novillos solamente contendría las columnas seleccionadas.\n\n6.7.1 Resumir datos\nMediante summarise() se pueden aplicar funciones para resumir en un solo valor los valores de las columnas. Las funciones a aplicar deben devolver un único valor, por ejemplo mean(). Si usamos summary() esto devolverá 6 valores y dará error.\n\nnovillos %&gt;%\n  summarise(\n    media = mean(Peso), \n    sd = sd(Peso), \n    n = n(), \n    suma = sum(Peso), \n    procedencias = n_distinct(Procedencia)\n  )\n\n# A tibble: 1 × 5\n  media    sd     n   suma procedencias\n  &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt;        &lt;int&gt;\n1  294.  33.1  1842 541693            4\n\n\nNuevamente estos resultados pueden asignarse a otro objeto o bien encadenarse con otras operaciones.\n\n\n6.7.2 Agrupar (último pero no menos importante)\nEl verbo group_by() es muy útil para aplicar operaciones en subgrupos y presentar todo junto (split-apply-combine). Lo que hace es indicar que en el data.frame hay una o más variables que conforman los grupos. Luego cada operación se aplica a esos subgrupos.\nEjemplo: calcular media, desvio, n y suma para cada procedencia, descartando los que tienen NA en Procedencia\n\nnovillos %&gt;%\n  filter(!is.na(Procedencia)) %&gt;% \n  group_by(Procedencia) %&gt;%\n  summarise(\n    media = mean(Peso),\n    sd = sd(Peso),\n    n = n(),\n    suma = sum(Peso)\n  )\n\n# A tibble: 3 × 5\n  Procedencia    media    sd     n   suma\n  &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt;\n1 La Alameda      297.  28.3   638 189236\n2 La Rosita       296.  31.2   849 250951\n3 Los Corralitos  300.  33.3    57  17085"
  },
  {
    "objectID": "05_wrangling.html#tablas-pivot",
    "href": "05_wrangling.html#tablas-pivot",
    "title": "6  Manipulando datos con dplyr y tidyr",
    "section": "6.8 Tablas pivot",
    "text": "6.8 Tablas pivot\nAl igual que dplyr, las funciones de tidyr son compatibles con el operador %&gt;%.\nLas funciones más importantes de este paquete son pivot_longer() y pivot_wider(), las cuales permiten de manera facil convertir tablas apaisadas en tablas longitudinales los nombres de algunas variables pasan a ser los valores de una nueva variable y los valores se combinan en una nueva variable.\nFormato wide\nx    y\n1    a\n2    b\n3    c\nFormato long\nVariable Valor\nx        1\nx        2\nx        3\ny        a\ny        b\ny        c\nVeamos un ejemplo: las variables Peso, Peso_inicial y Peso_anterior pueden verse como la variable Peso medida en 3 momentos. Podríamos generar una tabla longitudinal combinando estas 3 variables en una sola y creando otra que indique el momento de medición.\n\npesos_long &lt;- novillos %&gt;% \n  pivot_longer(cols = contains(\"Peso\"), names_to = \"momento\", values_to = \"peso\") %&gt;% \n  select(IDV, Procedencia, momento, peso)\npesos_long\n\n# A tibble: 7,368 × 4\n   IDV       Procedencia momento        peso\n   &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;         &lt;dbl&gt;\n 1 GH738B371 &lt;NA&gt;        Peso_inicial    188\n 2 GH738B371 &lt;NA&gt;        Peso_anterior   306\n 3 GH738B371 &lt;NA&gt;        Peso            398\n 4 GH738B371 &lt;NA&gt;        dif_peso        210\n 5 IA671B298 La Rosita   Peso_inicial    232\n 6 IA671B298 La Rosita   Peso_anterior   290\n 7 IA671B298 La Rosita   Peso            387\n 8 IA671B298 La Rosita   dif_peso        155\n 9 PO150A818 La Alameda  Peso_inicial    204\n10 PO150A818 La Alameda  Peso_anterior   290\n# ℹ 7,358 more rows\n\n\nComo vemos, ahora tenemos una tabla que para cada novillo IDV, tiene los pesos en los distintos momentos no como columnas sino como valores de la variable peso y la columna momento identifica el asocia el momento en que se pesó el animal."
  },
  {
    "objectID": "06_viz.html#cómo-conseguir-ggplot2",
    "href": "06_viz.html#cómo-conseguir-ggplot2",
    "title": "7  Visualización de datos con ggplot2",
    "section": "7.1 ¿Cómo conseguir ggplot2?",
    "text": "7.1 ¿Cómo conseguir ggplot2?\nPara acceder a estos paquetes instalarlos/cargarlos individualmente:\n\npacman::p_load(ggplot2)\n\nO bien con otros paquete de la familia tidyverse\n\npacman::p_load(tidyverse)\n\nR va a avisarnos en la consola que esta enmascarando (reemplazando) algunas funciones que ya estaban en el entorno, o bien el paquete nos devuelve algun mensaje. A menos que diga Error ..., eso está bien."
  },
  {
    "objectID": "06_viz.html#componentes-del-gráfico-en-ggplot2",
    "href": "06_viz.html#componentes-del-gráfico-en-ggplot2",
    "title": "7  Visualización de datos con ggplot2",
    "section": "7.2 Componentes del gráfico en ggplot2",
    "text": "7.2 Componentes del gráfico en ggplot2\nggplot2 implementa una variante por capas de este paradigma gramática de gráficos de Leland Wilkinson (gg es por grammar of graphics). Como resultado, se crean una serie de capas que permiten describir y construir visualizaciones de manera estructurada en cuanto a representación de los elementos pero a su vez flexible para generar combinaciones nuevas.\nUn gráfico se define por la combinación de capas (layers), escalas (scales), coordenadas (coords) y facetas (facets). Adicionalmente a estos componentes se pueden aplicar temas (themes) que permiten controlar los detalles del diseño de la visualización.\n\n7.2.1 Layers\nLos layer se construyen con las funciones geom_* y stat_* que veremos más adelante. Constan de 5 elementos:\n\ndata, set de datos (data.frame o similar) que contiene la información que se desea visualizar.\nmapping, elementos de mapeo definidos mediante aes() para indicar la forma en que la las variables y observaciones van a ser representadas en la visualización mediante atributos estéticos (ejes, lineas, colores, rellenos, etc).\nstat, funciones estadísticas que resumen los datos aplicando funciones estadísticas, e.g. promedio, agrupamiento y conteo de observaciones, o ajuste de un modelo lineal o suavizado, etc.\ngeom, geometrías o formas que representan lo que realmente se ve en un gráfico: puntos, líneas, polígonos, etc.\nposition, ajuste de posición de los elementos geoms dentro de un layer para evitar su superposición.\n\nGeneralmente, sobre todo para gráficos simples, data y mapping se definen una vez para todo el gráfico dentro de la función ggplot(). En otras situaciones se hace a nivel de cada layer.\n\n\n7.2.2 Scales\nAsignan los valores del espacio de datos a valores en el espacio de los elementos estéticos (aesthetics o aes). Por ejemplo, el uso de un color, forma o tamaño de en un geom puede ser controlado por un atributo de los datos. Las escalas también definen las leyenda y los ejes.\n\n\n7.2.3 Coordenadas\nSistema de coordendas (coord) que define que variables definiran el espacio del gráfico y como se representarán, e.g. coordanedas cartesianas, polares, etc.\n\n\n7.2.4 Paneles (facets)\nEs un elemento que permite especificar una o más variables para dividir el gráfico en paneles y así mostrar subgrupos de datos. Esto permite ver visualizar relaciones condicionales entre variables, e.g. y ~ x | z, es decir, que pasa con la variable x e y cuando cambia z.\n\n\n7.2.5 Temas\nAdicionalmente a estos componentes se pueden aplicar temas (themes) que permiten controlar los detalles del desieño de la visualización, tipografía, posición de algunos objetos, paleta de colores, etc. Los valores predeterminados de ggplot2 son un buen punto de partida pero exiten opciones predefinidas que pueden modificarse para generar un tema particular. Otra fuente para consultar es el trabajo de Tufte"
  },
  {
    "objectID": "06_viz.html#primer-gráfico-paso-a-paso",
    "href": "06_viz.html#primer-gráfico-paso-a-paso",
    "title": "7  Visualización de datos con ggplot2",
    "section": "7.3 Primer gráfico paso a paso",
    "text": "7.3 Primer gráfico paso a paso\n\npacman::p_load(rio)\nnovillos &lt;- import(\"datasets/pesada_novillos.xlsx\", setclass = \"tibble\")\nnovillos\n\n# A tibble: 1,842 × 13\n   IDV   Tropa Procedencia Fecha_Ingreso Peso_inicial Peso_anterior GPV_anterior\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;                &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;\n 1 GH73…     2 &lt;NA&gt;        42939                  188           306           51\n 2 IA67…     2 La Rosita   42940                  232           290            2\n 3 PO15…     2 La Alameda  42939                  204           290           33\n 4 GH73…     2 &lt;NA&gt;        42940                  204           303           27\n 5 SZ20…     2 La Alameda  42940                  202           300           30\n 6 IA67…     2 La Rosita   42940                  234           333           38\n 7 PO15…     2 Los Corral… 42938                  214           287           14\n 8 PO15…     2 Los Corral… 42939                  184           315           37\n 9 NS50…     2 La Rosita   42938                  234           288            0\n10 QX67…     2 La Alameda  42940                  206           262            2\n# ℹ 1,832 more rows\n# ℹ 6 more variables: GDM_anterior &lt;dbl&gt;, Fecha &lt;chr&gt;, Hora &lt;chr&gt;, Peso &lt;dbl&gt;,\n#   Días &lt;dbl&gt;, Días_total &lt;dbl&gt;\n\n\nVeamos con un ejemplo como se combinan los componentes anteriormente vistos para realizar un gráfico simple. Para esto vamos a usar el set de datos pesada_novillos.xlsx\nNuestro primer gráfico tendrá como objetivo mostrar la relación que existe entre Peso_anterior y Peso (actual), y potencialmente ver si ésta es similar entre procedencias. Veamos paso por paso como se construye el gráfico.\nPrimero definimos el set de datos que usaremos:\n\nggplot(data = novillos)\n\n\n\n\nComo vemos esto no produjo nada ya que no indicamos cuales son las variables que queremos graficar y cómo graficarlas. Nuestro layer solo tiene la información de data. Agreguemos ahora la información de mappping usando aes(). Usando el operador + podemos concatenarlo al comando anterior.\n\nggplot(data = novillos) +\n  aes(x = Peso_inicial, y = Peso)\n\n\n\n\nAquí vemos que, si bien no hemos graficado nada, la información suministrada permite a ggplot identificar los ejes, definir el espacio de coordanadas (cartesianas por defecto) y proponer unos límites en función del rango de valores. Agreguemos ahora la geometría: en este caso tiene sentido usar geom_point() ya que queremos mostrar un punto por observación\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point()\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nComo vemos ahora el gráfico va tomando forma. Este tipo de gráficos se llama gráfico de dispersión y muestra la relación entre ambas variables. Por defecto no se aplica ninguna transformación estadística lo que equivale a (stat = \"identity\").\nA este gráfico vamos a agregarle alguna función que permita resumir la relación entre ambas variables, por ejemplo un modelo de regresión. La mejor forma de representarlo sería una línea. Para eso vamos a agregar otro layer con geom_line() donde indicaremos una transformación de los datos stat = smooth.\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nHay una relación positiva para todo el set de datos pero puede enmascarar algun patrón por Procedencia. Esta información la podemos agregar con otros atributos estéticos como por ejemplo color:\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, color = Procedencia) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nDe este gráfico surge que la relación en todos los casos es positiva pero varia un poco según procedencia.\nDependiendo el tipo de geom tenemos distintos atributos estéticos para explorar: color y alpha (transparencia) para todos, shape y size para puntos, linewidth y linetype para lineas, y fill para barras, etc. Que tipo de atributo estético depende también de la naturaleza de la variable: continua o discreta. Veamos como queda mapear los valores de Procedencia al atributo shape (forma):\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, shape = Procedencia) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 300 rows containing missing values (`geom_point()`).\n\n\n\n\n\nLas estéticas se pueden combinar para mostrar mas relaciones entre variables. Por ejemplo, además de shape = Procedencia podríamos agregar la información de los pesos iniciales como color:\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, shape = Procedencia, \n      color = Peso_inicial) +\n  geom_point() +\n  geom_line(aes(group = Procedencia), stat = \"smooth\", method = \"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 300 rows containing missing values (`geom_point()`).\n\n\n\n\n\nClaramente esto es una exageración pero muestra la potencialiadad de ggplot2. Siempre tener en cuenta balance entre simplicidad del gráfico y la cantidad de información que queremos comunicar.\nFinalmente vamos a ver como mejorar los nombres de los ejes, leyendas y agregar un título. Esto lo hacemos con labs(). Tambien agregamos algun tema predefinido ocomo theme_bw().\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, color = Procedencia) +\n  geom_point() +\n  geom_line(stat = \"smooth\", method = \"lm\") +\n  labs(x = \"Peso anterior (kg)\", y = \"Peso actual (kg)\",\n       color = \"Procedencia\", title = \"Relación peso anterior y actual\") +\n  theme_bw()\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "06_viz.html#gráficos-condicionales-o-por-paneles-facets",
    "href": "06_viz.html#gráficos-condicionales-o-por-paneles-facets",
    "title": "7  Visualización de datos con ggplot2",
    "section": "7.4 Gráficos condicionales o por paneles: facets",
    "text": "7.4 Gráficos condicionales o por paneles: facets\nA veces es util mostrar los subgrupos en gráficos individuales o paneles. Esto se hace facilmente usando una o más variables condicionales con facets. Este tipo de gráficos también se denomian graficos condicionales ya que muestran la relacion de al menos dos variables de interés a través de los niveles de una tercera variable: y ~ x | z.\nPor ejemplo, en el primer gráfico vimos como mostrar la relación entre los pesos y las procedencias como color. Eventualmente, ese gráfico podria dividirse en 4 paneles (uno por procedencia) y mostrar en cada uno el subconjunto de puntos.\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  facet_wrap(~ Procedencia)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nHay dos tipos de facetado: facet_wrap() y facet_grid(). El primero permite agregar una o mas variables condicionales pero cada subpanel se muestra secuencialmente. Funciona bien cuando tenemos una sola variable para dividir los subplots o pocos niveles en la combinación. La forma de indicar la variable es ~ variable.\nEn cambio, facet_grid() permite organizar los subplots en filas y columnas. Las varialbes se indican en este orden fila ~ columna. Para este ejemplo vamos a usar la variable Tropa:\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  facet_grid(Tropa ~ Procedencia)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nPor defecto los subplots o facets tienen escalas iguales en ambos ejes para comparar. A veces conviene dejar una o las dos escalas variar libremente, esto se hace con el argumento scales y las palabras clave 'free_y', 'free_x' o 'free' (ambas a la vez).\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  facet_grid(Tropa ~ Procedencia, scales = \"free\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nOtra aspecto importante en la visualización usando facets es el texto que identifica cada panales. Esto depende de como estan configurados los datos y se controla con el argument labeller. Por defecto se toma el valor del factor que se usa para definir los grupos. En algunos casos conviene incluir el nombres de la variable.\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  facet_grid(Tropa ~ Procedencia, scales = \"free\", labeller = label_both)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "06_viz.html#temas-1",
    "href": "06_viz.html#temas-1",
    "title": "7  Visualización de datos con ggplot2",
    "section": "7.5 Temas",
    "text": "7.5 Temas\nLos temas en ggplot hacen referencia al control fino de la posición, el aspecto, y las formas de los distintos componentes del gráfico. El listado de componentes que se pueden modificar en un tema se incluyen en ?theme(). Como vemos la lista es larga ya que cada aspecto del gráfico puede controlarse permitiendo crear nuestros propios temas.\nggplot2 algunos temas predefinidos. Por defecto los gráficos utilizan un tema llamado theme_gray() que tiene una seleccion de parámetros elegante y que sirve para la mayoría de los casos. Existen otros temas específicos que puden ser un punto de partida para hacer modificaciones extra.\nPor ejemplo, el tema them_bw() remueve el fondo gris pero si queremos quitar la grilla podemos hacer:\n\n# Modificar el tema\nmi_tema &lt;- theme_bw() + theme(panel.grid = element_blank())\n\n# Aplicar nuestro nuevo tema.\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, color = Procedencia) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  mi_tema\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "07_reports.html#cómo-conseguir-ggplot2",
    "href": "07_reports.html#cómo-conseguir-ggplot2",
    "title": "8  Reportes dinámicoas",
    "section": "8.1 ¿Cómo conseguir ggplot2?",
    "text": "8.1 ¿Cómo conseguir ggplot2?\nPara acceder a estos paquetes instalarlos/cargarlos individualmente:\n\npacman::p_load(ggplot2)\n\nO bien con otros paquete de la familia tidyverse\n\npacman::p_load(tidyverse)\n\nR va a avisarnos en la consola que esta enmascarando (reemplazando) algunas funciones que ya estaban en el entorno, o bien el paquete nos devuelve algun mensaje. A menos que diga Error ..., eso está bien."
  },
  {
    "objectID": "07_reports.html#componentes-del-gráfico-en-ggplot2",
    "href": "07_reports.html#componentes-del-gráfico-en-ggplot2",
    "title": "8  Reportes dinámicoas",
    "section": "8.2 Componentes del gráfico en ggplot2",
    "text": "8.2 Componentes del gráfico en ggplot2\nggplot2 implementa una variante por capas de este paradigma gramática de gráficos de Leland Wilkinson (gg es por grammar of graphics). Como resultado, se crean una serie de capas que permiten describir y construir visualizaciones de manera estructurada en cuanto a representación de los elementos pero a su vez flexible para generar combinaciones nuevas.\nUn gráfico se define por la combinación de capas (layers), escalas (scales), coordenadas (coords) y facetas (facets). Adicionalmente a estos componentes se pueden aplicar temas (themes) que permiten controlar los detalles del diseño de la visualización.\n\n8.2.1 Layers\nLos layer se construyen con las funciones geom_* y stat_* que veremos más adelante. Constan de 5 elementos:\n\ndata, set de datos (data.frame o similar) que contiene la información que se desea visualizar.\nmapping, elementos de mapeo definidos mediante aes() para indicar la forma en que la las variables y observaciones van a ser representadas en la visualización mediante atributos estéticos (ejes, lineas, colores, rellenos, etc).\nstat, funciones estadísticas que resumen los datos aplicando funciones estadísticas, e.g. promedio, agrupamiento y conteo de observaciones, o ajuste de un modelo lineal o suavizado, etc.\ngeom, geometrías o formas que representan lo que realmente se ve en un gráfico: puntos, líneas, polígonos, etc.\nposition, ajuste de posición de los elementos geoms dentro de un layer para evitar su superposición.\n\nGeneralmente, sobre todo para gráficos simples, data y mapping se definen una vez para todo el gráfico dentro de la función ggplot(). En otras situaciones se hace a nivel de cada layer.\n\n\n8.2.2 Scales\nAsignan los valores del espacio de datos a valores en el espacio de los elementos estéticos (aesthetics o aes). Por ejemplo, el uso de un color, forma o tamaño de en un geom puede ser controlado por un atributo de los datos. Las escalas también definen las leyenda y los ejes.\n\n\n8.2.3 Coordenadas\nSistema de coordendas (coord) que define que variables definiran el espacio del gráfico y como se representarán, e.g. coordanedas cartesianas, polares, etc.\n\n\n8.2.4 Paneles (facets)\nEs un elemento que permite especificar una o más variables para dividir el gráfico en paneles y así mostrar subgrupos de datos. Esto permite ver visualizar relaciones condicionales entre variables, e.g. y ~ x | z, es decir, que pasa con la variable x e y cuando cambia z.\n\n\n8.2.5 Temas\nAdicionalmente a estos componentes se pueden aplicar temas (themes) que permiten controlar los detalles del desieño de la visualización, tipografía, posición de algunos objetos, paleta de colores, etc. Los valores predeterminados de ggplot2 son un buen punto de partida pero exiten opciones predefinidas que pueden modificarse para generar un tema particular. Otra fuente para consultar es el trabajo de Tufte"
  },
  {
    "objectID": "07_reports.html#primer-gráfico-paso-a-paso",
    "href": "07_reports.html#primer-gráfico-paso-a-paso",
    "title": "8  Reportes dinámicoas",
    "section": "8.3 Primer gráfico paso a paso",
    "text": "8.3 Primer gráfico paso a paso\n\npacman::p_load(rio)\nnovillos &lt;- import(\"datasets/pesada_novillos.xlsx\", setclass = \"tibble\")\nnovillos\n\n# A tibble: 1,842 × 13\n   IDV   Tropa Procedencia Fecha_Ingreso Peso_inicial Peso_anterior GPV_anterior\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;                &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;\n 1 GH73…     2 &lt;NA&gt;        42939                  188           306           51\n 2 IA67…     2 La Rosita   42940                  232           290            2\n 3 PO15…     2 La Alameda  42939                  204           290           33\n 4 GH73…     2 &lt;NA&gt;        42940                  204           303           27\n 5 SZ20…     2 La Alameda  42940                  202           300           30\n 6 IA67…     2 La Rosita   42940                  234           333           38\n 7 PO15…     2 Los Corral… 42938                  214           287           14\n 8 PO15…     2 Los Corral… 42939                  184           315           37\n 9 NS50…     2 La Rosita   42938                  234           288            0\n10 QX67…     2 La Alameda  42940                  206           262            2\n# ℹ 1,832 more rows\n# ℹ 6 more variables: GDM_anterior &lt;dbl&gt;, Fecha &lt;chr&gt;, Hora &lt;chr&gt;, Peso &lt;dbl&gt;,\n#   Días &lt;dbl&gt;, Días_total &lt;dbl&gt;\n\n\nVeamos con un ejemplo como se combinan los componentes anteriormente vistos para realizar un gráfico simple. Para esto vamos a usar el set de datos pesada_novillos.xlsx\nNuestro primer gráfico tendrá como objetivo mostrar la relación que existe entre Peso_anterior y Peso (actual), y potencialmente ver si ésta es similar entre procedencias. Veamos paso por paso como se construye el gráfico.\nPrimero definimos el set de datos que usaremos:\n\nggplot(data = novillos)\n\n\n\n\nComo vemos esto no produjo nada ya que no indicamos cuales son las variables que queremos graficar y cómo graficarlas. Nuestro layer solo tiene la información de data. Agreguemos ahora la información de mappping usando aes(). Usando el operador + podemos concatenarlo al comando anterior.\n\nggplot(data = novillos) +\n  aes(x = Peso_inicial, y = Peso)\n\n\n\n\nAquí vemos que, si bien no hemos graficado nada, la información suministrada permite a ggplot identificar los ejes, definir el espacio de coordanadas (cartesianas por defecto) y proponer unos límites en función del rango de valores. Agreguemos ahora la geometría: en este caso tiene sentido usar geom_point() ya que queremos mostrar un punto por observación\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point()\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nComo vemos ahora el gráfico va tomando forma. Este tipo de gráficos se llama gráfico de dispersión y muestra la relación entre ambas variables. Por defecto no se aplica ninguna transformación estadística lo que equivale a (stat = \"identity\").\nA este gráfico vamos a agregarle alguna función que permita resumir la relación entre ambas variables, por ejemplo un modelo de regresión. La mejor forma de representarlo sería una línea. Para eso vamos a agregar otro layer con geom_line() donde indicaremos una transformación de los datos stat = smooth.\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nHay una relación positiva para todo el set de datos pero puede enmascarar algun patrón por Procedencia. Esta información la podemos agregar con otros atributos estéticos como por ejemplo color:\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, color = Procedencia) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nDe este gráfico surge que la relación en todos los casos es positiva pero varia un poco según procedencia.\nDependiendo el tipo de geom tenemos distintos atributos estéticos para explorar: color y alpha (transparencia) para todos, shape y size para puntos, linewidth y linetype para lineas, y fill para barras, etc. Que tipo de atributo estético depende también de la naturaleza de la variable: continua o discreta. Veamos como queda mapear los valores de Procedencia al atributo shape (forma):\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, shape = Procedencia) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 300 rows containing missing values (`geom_point()`).\n\n\n\n\n\nLas estéticas se pueden combinar para mostrar mas relaciones entre variables. Por ejemplo, además de shape = Procedencia podríamos agregar la información de los pesos iniciales como color:\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, shape = Procedencia, \n      color = Peso_inicial) +\n  geom_point() +\n  geom_line(aes(group = Procedencia), stat = \"smooth\", method = \"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 300 rows containing missing values (`geom_point()`).\n\n\n\n\n\nClaramente esto es una exageración pero muestra la potencialiadad de ggplot2. Siempre tener en cuenta balance entre simplicidad del gráfico y la cantidad de información que queremos comunicar.\nFinalmente vamos a ver como mejorar los nombres de los ejes, leyendas y agregar un título. Esto lo hacemos con labs(). Tambien agregamos algun tema predefinido ocomo theme_bw().\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, color = Procedencia) +\n  geom_point() +\n  geom_line(stat = \"smooth\", method = \"lm\") +\n  labs(x = \"Peso anterior (kg)\", y = \"Peso actual (kg)\",\n       color = \"Procedencia\", title = \"Relación peso anterior y actual\") +\n  theme_bw()\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "07_reports.html#gráficos-condicionales-o-por-paneles-facets",
    "href": "07_reports.html#gráficos-condicionales-o-por-paneles-facets",
    "title": "8  Reportes dinámicoas",
    "section": "8.4 Gráficos condicionales o por paneles: facets",
    "text": "8.4 Gráficos condicionales o por paneles: facets\nA veces es util mostrar los subgrupos en gráficos individuales o paneles. Esto se hace facilmente usando una o más variables condicionales con facets. Este tipo de gráficos también se denomian graficos condicionales ya que muestran la relacion de al menos dos variables de interés a través de los niveles de una tercera variable: y ~ x | z.\nPor ejemplo, en el primer gráfico vimos como mostrar la relación entre los pesos y las procedencias como color. Eventualmente, ese gráfico podria dividirse en 4 paneles (uno por procedencia) y mostrar en cada uno el subconjunto de puntos.\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  facet_wrap(~ Procedencia)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nHay dos tipos de facetado: facet_wrap() y facet_grid(). El primero permite agregar una o mas variables condicionales pero cada subpanel se muestra secuencialmente. Funciona bien cuando tenemos una sola variable para dividir los subplots o pocos niveles en la combinación. La forma de indicar la variable es ~ variable.\nEn cambio, facet_grid() permite organizar los subplots en filas y columnas. Las varialbes se indican en este orden fila ~ columna. Para este ejemplo vamos a usar la variable Tropa:\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  facet_grid(Tropa ~ Procedencia)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nPor defecto los subplots o facets tienen escalas iguales en ambos ejes para comparar. A veces conviene dejar una o las dos escalas variar libremente, esto se hace con el argumento scales y las palabras clave 'free_y', 'free_x' o 'free' (ambas a la vez).\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  facet_grid(Tropa ~ Procedencia, scales = \"free\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`).\n\n\n\n\n\nOtra aspecto importante en la visualización usando facets es el texto que identifica cada panales. Esto depende de como estan configurados los datos y se controla con el argument labeller. Por defecto se toma el valor del factor que se usa para definir los grupos. En algunos casos conviene incluir el nombres de la variable.\n\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  facet_grid(Tropa ~ Procedencia, scales = \"free\", labeller = label_both)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nComputation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "07_reports.html#temas-1",
    "href": "07_reports.html#temas-1",
    "title": "8  Reportes dinámicoas",
    "section": "8.5 Temas",
    "text": "8.5 Temas\nLos temas en ggplot hacen referencia al control fino de la posición, el aspecto, y las formas de los distintos componentes del gráfico. El listado de componentes que se pueden modificar en un tema se incluyen en ?theme(). Como vemos la lista es larga ya que cada aspecto del gráfico puede controlarse permitiendo crear nuestros propios temas.\nggplot2 algunos temas predefinidos. Por defecto los gráficos utilizan un tema llamado theme_gray() que tiene una seleccion de parámetros elegante y que sirve para la mayoría de los casos. Existen otros temas específicos que puden ser un punto de partida para hacer modificaciones extra.\nPor ejemplo, el tema them_bw() remueve el fondo gris pero si queremos quitar la grilla podemos hacer:\n\n# Modificar el tema\nmi_tema &lt;- theme_bw() + theme(panel.grid = element_blank())\n\n# Aplicar nuestro nuevo tema.\nggplot(data = novillos) +\n  aes(x = Peso_anterior, y = Peso, color = Procedencia) +\n  geom_point() +\n  geom_line(stat = 'smooth', method = 'lm') +\n  mi_tema\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 32 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `dyn.load()`:\n! unable to load shared object '/usr/lib/R/library/Matrix/libs/Matrix.so':\n  libopenblas.so.3: cannot open shared object file: No such file or directory\n\n\nWarning: Removed 32 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "R Core Team. 2023. R: A Language and Environment for Statistical\nComputing. Vienna, Austria: R Foundation for Statistical Computing.\nhttps://www.R-project.org/."
  }
]